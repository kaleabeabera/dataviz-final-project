# dataviz-final-project
Stress Optimization Project Report

Tomihisa Kamada and Satoru Kawai created an algorithm in 1988 for drawing undirected graphs and weighted graphs, which attempts to place nodes as close to their graph-theoretical distance as possible. Graph-theoretical distance is the shortest path between two nodes. Kamada and Kawai formulated the stress function—a loss function that measures the squared distances between nodes and their graph-theoretical distance. A smaller stress value indicates higher drawing quality.

The stress function is formulated as such: 
LST = i<jwij(|Xi-Xj|2-dij)2
wij - the normalization factor (wij=dij-2)
dij - the graph-theoretical distance between nodes i and j
Xi - coordinate of the ith node in the layout
The stress function is a differentiable function of the layout X, therefore it is optimizable via gradient descent.

Stress optimization computations can be costly for very dense graphs, so we will use stochastic gradient descent with sparse graph spanners to make the algorithm scalable. The stochastic gradient descent method selects a random subset of vertices in graph G. We will represent these random subsets by generating sparse graph spanners of G. These sparse graphs will consist of fewer edges and distances approximate to those in G. We will use gradient descent to minimize the stress in each subgraph, which in turn minimizes stress globally. 
By definition a graph spanner is some subgraph of a given graph G which preserves the lengths of the shortest paths in G up to some error or distortion. These graphs may also feature weighted edges whose value contain either the measure of the length of a route, the capacity of a line, or the energy required to traverse between locations. We can identify two parameters that respectively distinguish the number of distorted distances from the original graph and direct vertice pairs whose approximate distances must be preserved. 
	We realized a weighted graph representation is best when considering networks. Weighted graphs account for a spanner's lightness, a comparison between the total weight of the spanners and the minimum spanning tree. Tie breaker schemes are used to isolate subpaths by mapping each vertex pair's shortest path. We also want to consider the hardness result for basic t-spanner and additive. Tree t-spanner or lowest-diameter t-spanner expect hardness results to be reflected in their graphs. 
We can explore the method of minimum max-stretch spanning tree to optimize stress. By finding the minimizing stretch factor of a spanning tree we can achieve an algorithm that runs at O(log n), and output a graph that is reflective of this divide-and-conquer methodology. Fewer variables are used to create a spanning tree topology that is cut-based. We use the spanners bound by doubling dimensions within their metric space. This will happen due to the behavior of stepping stones between general graph spanners and geomatics spanners, whose input graphs are finite submetic spaces.
Basic force directed approaches are limited to visualizing small graphs and aren't ideal for graphs with hundreds of vertices such as networks. Even with sophisticated programs for delineating local minima the basic force directed algorithms barycentric methodology creates programs for large graphs where minimum vertex separation is very small. This will result in unreadable graphs that have very little usefulness. Through an interactive approach we identify how to reduce quadratic complexity of the repulsive forces by using a grid variaint. For sparse graphs this could result in a stress optimization from the previous runtime. This would require a multi-pole technique. 
We explore force directed algorithms ability to create fast algebraic operations to offer another practical way to deal with large graphs. Stress minimization can be implemented in a more general setting of multidimensional scaling. The stress function becomes relevant when drawing large graphs which can be optimized with a gradient descent method. The stress function can also be optimized through means of majorization to guarantee coverage. We can moreover use a full stress or strain model to compute all the pairs of shortest paths, and savings accounted for if we compute a good approximation. In PivotMDS Brandes and Pich [BP06] show that replacing the all-pairs-shortest path computation with a distance calculation from a few vertices in the graph is often sufficient, especially if combined with a solution to a sparse stress model(Kobourov).
We also explored how in networks where nodes are not free to move, a constrained stress majorization can be applied. By treating the majorization function as a quadratic program we can allow for additional constraints. We don't explore planar graphs in our program because a force directed algorithm couldnt guarantee a straight line crossing free drawing. We are trying to modify the basic force directed layout by trying to improve the layout quality of graphs. 
	We improved the speed of our force-directed stress optimization approach by utilizing graph spanners. After drawing the nodes and edges of the first sparse graph spanners, we stored the nodes and their coordinates. We moved on to the next level of our multi-level programming approach by introducing the next graph spanner, which is slightly larger than the previous graph spanner but still contains the same nodes. Since the previously fixed nodes are present future graph spanners, we could modify our tick function to keep the previously fixed nodes at their set coordinates by checking in the object that we stored the nodes and coordinates. This approach really speeds up the force-directed drawing process because node placement and distances do not have to be recalculated, and are only updated once. 


References:

Kobourov, Stephen G, Force-Directed Drawing Algorithms. University of Arizona https://cs.brown.edu/people/rtamassi/gdhandbook/chapters/force-directed.pdf
Ahmed, et al., 2020. University of Arizona https://arxiv.org/pdf/1909.03152.pdf 
Ahmed, Reyan., multi_level_tree, (2020), GitHub Repository, https://github.com/abureyanahmed/multi_level_tree 
T. Kamada and S. Kawai. An algorithm for drawing general undirected
graphs. Inform. Process. Lett., 31:7–15, 1989.

